var tweets = [
{
	tweetID: "686036039627091968",
	username: "AmyMek",
	tweet: "The UK has Fully Embraced Sharia! Keep this sickness out of America. #StopRapeJihad #BanISLAM #RefugeesNotWelcome"
},
{
	tweetID: "685485599336173569",
	username: "Jenn_Abrams",
	tweet: "I don't want to let them in #RefugeesNotWelcome"
},
{
	tweetID: "685436794926686209",
	username: "ZoeJardiniere",
	tweet: "Lose me as a friend in 3 words? Easy: #refugeesnotwelcome #LoseAFriendIn3Words"
},
{
	tweetID: "686270184907255809",
	username: "ScottInSC",
	tweet: "'When I get my head sawed off by savages my last thought with be 'At least I wasn't racist'.'-#rapefugee supporters"
},
{
	tweetID: "682990020802777088",
	username: "barclaycards",
	tweet: "No refugees here thank you if you want them you take them in"
},
{
	tweetID: "682976091502280704",
	username: "LibertyUSA1776",
	tweet: "Want to keep America's children safer? #Obama #SecureTheBorder #NoRefugees #MolonLabe #ORPUW #RebootLiberty"
},
{
	tweetID: "685780002407870466",
	username: "baegladeshi",
	tweet: "Fake life jackets were sold to refugees in turkey which become heavier when soaked. I hate people."
},
{
	tweetID: "686216947529297922",
	username: "royalmarine1980",
	tweet: "For every English /European woman raped or molested we should deport 1 leftist that support importing refugees"
},
{
	tweetID: "684575170313482240",
	username: "SavetheChildren",
	tweet: "Show your support for families caught in the #refugeecrisis http://tak.pt/i/CimJyZZo  via @TakePart"
},
{
	tweetID: "683598469785870336",
	username: "ReutersWorld",
	tweet: "Refugee crisis could shake up German political landscape in 2016 http://reut.rs/1OC2bj3"
},
{
	tweetID: "683905959073308673",
	username: "FastCompany",
	tweet: "A @UN agency's radical experiment in addressing the refugee crisis http://buff.ly/1ZGmN1N"
},
{
	tweetID: "685505790531231744",
	username: "ActForAmerica",
	tweet: "Truth: Muslim refugee men are gang raping women in Europe. http://buff.ly/1Zfphrb ?"
},
{
	tweetID: "684559450984689664",
	username: "Partisangirl",
	tweet: "Back in the day the hatred wasn't toward the 'muslim immigrant' but the 'irish immigrant' the 'polish immigrant' the 'vietnamese refugee'"
},
{
	tweetID: "684743716821676032",
	username: "SliceOfAidan",
	tweet: "Refugee is not synonym with Muslim and Muslim is not synonym with terrorist."
},
{
	tweetID: "684132312817217536",
	username: "JoanneLinDC",
	tweet: ".@usedgov urging schools to prevent anti-Muslim anti-refugee harassment. Schools must be safe spaces for students. https://www.washingtonpost.com/news/education/wp/2016/01/04/amid-growing-anti-muslim-sentiment-education-department-urges-schools-to-prevent-discrimination/"
},
{
	tweetID: "683746194812727296",
	username: "yueyuea",
	tweet: "Muslim Refugee Rapes finish girl then gleefully burns her alive to death"
},
{
	tweetID: "682760874449227777",
	username: "Soldierjohn",
	tweet: "EUROPE NEEDS TO ROUND UP EVERY SYRIAN OR MUSLIM REFUGEE THAT INVADED THEIR LAND AND DUMP THEM ON SHIPS HEADED TO SYRIA OR A GIANT WATERFALL!"
},
{
	tweetID: "685566583545196544",
	username: "Tentuil",
	tweet: "'#Refugee' is a codeword for #WhiteGenocide. '#RefugeesWelcome' is another codeword for #Islamization of #Europe."
},
{
	tweetID: "685863319203217408",
	username: "euroarise",
	tweet: "Refugee is a codeword for paid non-white mercenaries hired by #antiwhites to fight FOR the system of #WhiteGenocide"
},
{
	tweetID: "684475547875938309",
	username: "white_defender",
	tweet: "Let's in mongrels and is surprised. #Culturalenrichment #whitegenocide   #Refugeesnotwelcome #WR"
},
{
	tweetID: "684906243203424256",
	username: "thomas_klan",
	tweet: "How many rapists did #Merkel let in again? #RefugeesNotWelcome #RefugeeCrisis #WhiteGenocide #europeaninvasion #Germany #germanpolice"
},
{
	tweetID: "685932525781266432",
	username: "DanielGenseric",
	tweet: "#Rapefugees are active participants in the ongoing genocide on Europid Whites. #refugeesnotwelcome #WhiteGenocide"
},
{
	tweetID: "685951481741209600",
	username: "TRobinsonNewEra",
	tweet: "So the failed suicide bomber who was shot dead in Paris on Friday lived a German refugee centre. #refugeeswelcome"
},
{
	tweetID: "685814556434628608",
	username: "Jenn_Abrams",
	tweet: "'I'm gonna rape that girl..but first let me take a selfie' #refugeeswelcome"
},
{
	tweetID: "686261407743127552",
	username: "ROAR_Magazine",
	tweet: "This isn't a refugee crisis; it’s a crisis of racism hatred & information http://buff.ly/1OIfHX1  #refugeeswelcome"
},
{
	tweetID: "569629915273961472",
	username: "GerardvanE1",
	tweet: "U.S. Syrian refugee program called ‘back door for jihadists’ https://creepingsharia.wordpress.com/2015/02/22/syrian-refugee-program-called-back-door-for-jihadists/ … #islamization #PVV #Bluehand #tcot"
},
{
	tweetID: "666094657487642624",
	username: "GovernorBentley",
	tweet: "I will not stand complicit to a policy that places the citizens of Alabama in harm’s way. We refuse Syrian refugees. http://1.usa.gov/1WUR4f9"
}];


var classifications = {
	"686036039627091968": true,
	"685485599336173569": true,
	"685436794926686209": false,
	"686270184907255809": true,
	"682990020802777088": true,
	"682976091502280704": true,
	"685780002407870466": false,
	"686216947529297922": true,
	"684575170313482240": false,
	"683598469785870336": false,
	"683905959073308673": false,
	"685505790531231744": false,
	"684559450984689664": false,
	"684743716821676032": false,
	"684132312817217536": false,
	"683746194812727296": true,
	"682760874449227777": true,
	"685566583545196544": true,
	"685863319203217408": true,
	"684475547875938309": true,
	"684906243203424256": true,
	"685932525781266432": true,
	"685951481741209600": true,
	"685814556434628608": true,
	"686261407743127552": false,
	"569629915273961472": true,
	"666094657487642624": true
};
var numTweets = 27;
var numPositive = 17;
var numNegative = 10;


function getAccuracy(myGuesses) {
	var numCorrect = 0;
	var numFalsePositive = 0;
    var numFalseNegative = 0;
    for (var tweetID in classifications) {
    	if (classifications.hasOwnProperty(tweetID)) {
    		if (tweetID in myGuesses) {
    			var correctValue = classifications[tweetID];
    			var guessedValue = myGuesses[tweetID];
    			if (correctValue === guessedValue) {
    				numCorrect++;
    			} else {
    				if (guessedValue === true && correctValue === false) {
    					numFalsePositive++;
							console.log(tweets.filter(function(value){
								return value.tweetID === tweetID;
							})[0].tweet);
    				} else {
    					numFalseNegative++;
							console.log(tweets.filter(function(value){
								return value.tweetID === tweetID;
							})[0].tweet);
    				}
    			}
    		} else {
    			console.log("Please provide a classification for each tweet.");
    			return null;
    		}
    	}
    }
    if (numTweets > 0)
    	var value1 = (numCorrect / numTweets) * 100;
    else
    	value1 = 0;
    if (numNegative > 0)
    	var value2 = (numFalsePositive / numNegative) * 100;
    else
    	value2 = 0;
    if (numPositive > 0)
    	var value3 = (numFalseNegative / numPositive) * 100;
    else
    	value3 = 0;
    return {
    	percentCorrect: value1.toFixed(2),
    	falsePositiveRate: value2.toFixed(2),
    	falseNegativeRate: value3.toFixed(2)
    };
}

function semanticAnalysis() {
	// Object that maps from tweetID to true/false.
	// true = positive = anti-refugee
	// false = negative = not anti-refugee
	var myGuesses = {};

	var words = [
		{word: "refugeesnotwelcome", score: 5},
		{word: "whitegenocide", score: 5},
		{word: "rape", score: 5},
		{word: "ban islam", score: 5},
		{word: "norefugees", score: 5},
		{word: "refugeeswelcome", score: -5},
		{word: "no", score: 2},
		{word: "refuse", score: 2},
		{word: "terrorist", score: 2},
	];

	for (var i = 0; i < tweets.length; i++) {
		var myTweet = tweets[i];
		var id = myTweet.tweetID;
		myGuesses[id] = false;
		var score = 0;
		for (var q = 0; q < words.length; q++) {
			var word = words[q];
			if (myTweet.tweet.toLowerCase().includes(word.word)) {
				score += word.score;
			}
		}
		if (score > 0 || (score < 0 && myTweet.tweet.toLowerCase().includes("'")))
			{myGuesses[id] = true;}
	}

	var accuracy = getAccuracy(myGuesses);
	if (!(accuracy === null)) {
		console.log("Percent correct: " + accuracy.percentCorrect + "%");
		console.log("False positive rate: " + accuracy.falsePositiveRate + "%");
		console.log("False negative rate: " + accuracy.falseNegativeRate + "%");
	}
}
